ORG 0000H

SETB P0.7 

CLR P0.0

CLR P0.1

CLR P0.2

ACALL INITIAL                ; starting point command

ACALL DELAY                  ; give LCD some time

MOV A, #69                        ; display letter E

ACALL DATAWRT            ; call display subroutine

ACALL DELAY                  ; give LCD some time

MOV A, #77                        ; display letter M

ACALL DATAWRT            ; call display subroutine

ACALL DELAY                  ; give LCD some time

MOV A, #80                        ; display letter P

ACALL DATAWRT            ; call display subroutine

ACALL DELAY                  ; give LCD some time

MOV A, #84                        ; display letter T

ACALL DATAWRT            ; call display subroutine

ACALL DELAY                  ; give LCD some time

MOV A, #89                        ; display letter Y

ACALL DATAWRT            ; call display subroutine

QUARTER: JNB P0.0, QUARTER;

ACALL INITIAL                                              ; starting point command

ACALL DELAY                                               ; give LCD some time

MOV A, #81                                                 ; display letter Q

ACALL DATAWRT                                         ; call display subroutine

ACALL DELAY                                               ; give LCD some time

MOV A, #85                                                 ; display letter U

ACALL DATAWRT                                         ; call display subroutine

ACALL DELAY                                               ; give LCD some time

MOV A, #65                                                 ; display letter A

ACALL DATAWRT                                         ; call display subroutine

ACALL DELAY                                               ; give LCD some time

MOV A, #82                                                 ; display letter R

ACALL DATAWRT                                         ; call display subroutine

ACALL DELAY                                               ; give LCD some time

MOV A, #84                                                 ; display letter T

ACALL DATAWRT                                         ; call display subroutine

ACALL DELAY                                               ; give LCD some time

MOV A, #69                                                 ; display letter R

ACALL DATAWRT                                         ; call display subroutine

ACALL DELAY                                               ; give LCD some time

MOV A, #82                                                 ; display letter R

ACALL DATAWRT                                         ; call display subroutine

HALF: JNB P0.1,HALF;

ACALL INITIAL                     ; starting point command

ACALL DELAY                       ; give LCD some time

MOV A, #72                             ; display letter H

ACALL DATAWRT                 ; call display subroutine

ACALL DELAY                       ; give LCD some time

MOV A, #65                             ; display letter A

ACALL DATAWRT                 ; call display subroutine

ACALL DELAY                       ; give LCD some time

MOV A, #76                             ; display letter L

ACALL DATAWRT                 ; call display subroutine

ACALL DELAY                       ; give LCD some time

MOV A, #70                             ; display letter F

ACALL DATAWRT                  ; call display subroutine

ACALL DELAY                       ; give LCD some time

FULL: JNB P0.2,FULL;

CLR P0.7                             ;restricting the current flow

ACALL INITIAL                ; starting point command

ACALL DELAY                 ; give LCD some time

MOV A, #70                       ; display letter F

ACALL DATAWRT           ; call display subroutine

ACALL DELAY                 ; give LCD some time

MOV A, #85                       ; display letter U

ACALL DATAWRT           ; call display subroutine

ACALL DELAY                 ; give LCD some time

MOV A, #76                       ; display letter L

ACALL DATAWRT           ; call display subroutine

ACALL DELAY                 ; give LCD some time

MOV A, #76                       ; display letter L

ACALL DATAWRT           ; call display subroutine

ACALL DELAY                 ; give LCD some time

COMNWRT:                 ; send command to LCD

MOV P2 , A                   ; copy reg A to port 1

CLR P3.6                       ; RS=0 for command

CLR P3.7                       ; R/Wâ€™=0 for write

SETB P3.5                     ; E=1 for high pulse

ACALL DELAY            ; give LCD some time

CLR P3.5                       ; E=0 for H-to-L pulse

RET



DATAWRT:                    ; write data to LCD

MOV P2, A                     ; copy reg A to port 1

SETB P3.6                      ; RS=1 for data

CLR P3.7                        ; R/W=0 for write

SETB P3.5                      ; E=1 for high pulse

ACALL DELAY             ; give LCD some time

CLR P3.5                        ; E=0 for H-to-L pulse

RET

DELAY: MOV R3, #50             ; 50 or higher for fast CPUs

HERE2: MOV R4, #255          ; R4 = 255

HERE: DJNZ R4, HERE            ; stay until R4 becomes 0

DJNZ R3, HERE2                      ; stay until R3 becomes 0

RET

INITIAL:                                    ;starting point command

MOV A, #38H                          ; INITIALIZE 2x16 LCD

ACALL COMNWRT                  ; call command subroutine

ACALL DELAY                           ; give LCD some time

MOV A, #0EH                          ; display on, cursor on

ACALL COMNWRT                  ; call command subroutine

ACALL DELAY                           ; give LCD some time

MOV A, #01                             ; clear LCD

ACALL COMNWRT                  ; call command subroutine

ACALL DELAY                           ; give LCD some time

MOV A, #06H                          ; shift cursor right

ACALL COMNWRT                  ; call command subroutine

ACALL DELAY                           ; give LCD some time

MOV A, #80H                          ; cursor at line 1, pos. 4

ACALL COMNWRT                  ; call command subroutine

RET

END

